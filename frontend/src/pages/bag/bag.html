<!--
  Generated template for the BagPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border color="primary">
  <ion-navbar padding>
    ITEMS ({{cartSize}})

    <div class="totalAmount">
      TOTAL : ${{cartAmount | number : '1.2'}}
    </div>
  </ion-navbar>

</ion-header>


<ion-content>
  <!-- Show when there are no products in the cart  -->
  <div *ngIf="cartArray?.length < 1" class="empty-bag" text-center>
    There are no items in the cart
  </div>

  <ion-list>
    <ion-item *ngFor="let item of cartArray; let i = index">
      <div class="product-image">
        <img src={{item.image_url}}>
      </div>
      <div class="product-description">
        <h2>
          {{item.name}}
        </h2>
        <p class="productDetails">Quantity : {{item.quantity}}</p>
        <div *ngIf="item.variantText">
          <p *ngFor="let option of item.options">
            {{option.name}} : {{option.value}}
          </p>
        </div>
        <p>$ {{item.sale_price | number : '1.2'}}</p>

        <button ion-button outline (click)="onRemove(i)" class="option-button" color="dark">
          <ion-icon class="fa fa-times"></ion-icon>
          &nbsp; Remove Product
        </button>

        <button ion-button outline (click)="onEdit(i)" class="option-button" color="dark">
          <ion-icon class="fa fa-edit"></ion-icon>
          &nbsp; Edit Quantity
        </button>
      </div>
    </ion-item>
  </ion-list>

  <div text-center *ngIf="cartArray.length > 0" (click)="checkOut()">
    <button ion-button color="dark" class="checkout">Checkout
      <ion-icon name="briefcase" class="checkout-icon"></ion-icon>
    </button>
  </div>
</ion-content>
